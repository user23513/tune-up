<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<head>
<meta charset="UTF-8">
<meta id="_csrf" name="_csrf" th:content="${_csrf.token}"/>
<meta id="_csrf_header" name="_csrf_header" th:content="${_csrf.headerName}"/>
<title>파일함 페이지</title>
<script src="/js/jquery-3.6.1.min.js"></script>
<style type="text/css">
.filter {
	float: right;
	padding: 10px;
}

button {
	float: right;
	margin: 5px;
}
</style>

<script>
	//
	$(function() {
		$("#fileUploadForm").click(function() {
			location.href = 'fileUploadForm';
		})
	})

	/*  $(function() {
	$('ul li').click(function() {
		var activeTab = $(this).attr('data-tab');
		$.ajax({
			type : 'GET', //get방식으로 통신
			url : activeTab + ".html", //탭의 data-tab속성의 값으로 된 html파일로 통신
			dataType : "html", //html형식으로 값 읽기
			
			error : function() { //통신 실패시
				console.log(activeTab)
				alert('통신실패!');
			},
			success : function(data) { //통신 성공시 탭 내용담는 div를 읽어들인 값으로 채운다.
				console.log(data)
				$('#tabcontent').html(data);
			}
		});
	});
	$('#default').click();
	});   */
</script>
</head>
<body>
	<main layout:fragment="content">
		<div class="card">
			<div class="card-body">
				<h5 class="card-title">FILES</h5>

				<div>
					<button type="button" class="btn btn-outline-danger btn-sm">파일
						삭제</button>
				</div>
				<br> <br>

				<ul class="nav nav-tabs d-flex" id="myTabjustified" role="tablist">

					<li class="nav-item flex-fill" role="presentation"
						data-tab="prjFile" id="default">
						<button class="nav-link w-100 active" id="home-tab"
							data-bs-toggle="tab" data-bs-target="#home-justified"
							type="button" role="tab" aria-controls="home"
							aria-selected="true">프로젝트</button>
					<li class="nav-item flex-fill" role="presentation"
						data-tab="myFile">
						<button class="nav-link w-100" id="contact-tab"
							data-bs-toggle="tab" data-bs-target="#business-justified"
							type="button" role="tab" aria-controls="contact"
							aria-selected="false">내 보관함</button>
					</li>

				</ul>
				<!-- <div id="tabcontent"> 
				
				</div>-->
				<!-- 프로젝트 -->
				<div class="tab-content pt-2" id="myTabjustifiedContent">
					<div class="tab-content pt-2" id="myTabjustifiedContent">
						<div class="tab-pane fade show active" id="home-justified"
							role="tabpanel" aria-labelledby="home-tab">
							<input type="hidden" id="empNo" name="empNo" th:value="${session.empNo}">
							<input type="hidden" id="wrtr" name="wrtr" th:value="${session.nm}">
							
							<table class="table table-hover">
								<thead>
									<tr>
										<th scope="col">#</th>
										<th scope="col">프로젝트 이름</th>
										<th scope="col">파일이름</th>
										<th scope="col"></th>
										
									</tr>
								</thead>
								<tbody >
									<tr th:each="f: ${prjFileList}">
										<th scope="row">1</th>
										<td th:text="${f.pNm}">Designer</td>
										<td th:text="${f.fNm}">28</td>
										<td></td>
									</tr>
								</tbody>
							</table>
							<!-- End Table with hoverable rows -->


							<!-- 내 보관함 -->
						 	<div class="tab-pane fade" id="business-justified"
								role="tabpanel" aria-labelledby="profile-tab">
								Table with hoverable rows
								<div float="right">
									<button type="button" class="btn btn-outline-primary btn-sm"
										href="fileUpload">파일 추가</button>
								</div>
								<table class="table table-hover">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">파일명</th>
											<th scope="col">카테고리</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="m : ${myFileList}">
											<th scope="row">1</th>
											<td th:text="${m.fNm}">Designer</td>
											<td th:text="${m.fCat}">Designer</td>

										</tr>

									</tbody>
								</table>
							</div> 
						</div>

					</div>
				</div>
			</div>
		</div>
	</main>
</body>
</html>