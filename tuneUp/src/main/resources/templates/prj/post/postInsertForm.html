<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  
	  layout:decorate="~{layout/layout}">
<head>
<meta charset="UTF-8">
<meta id="_csrf" name="_csrf" th:content="${_csrf.token}"/>
<meta id="_csrf_header" name="_csrf_header" th:content="${_csrf.headerName}"/>
<title>프로젝트 글쓰기</title>
<style>
.map_wrap, .map_wrap * {margin:0;padding:0;font-family:'Malgun Gothic',dotum,'돋움',sans-serif;font-size:12px;}
.map_wrap a, .map_wrap a:hover, .map_wrap a:active{color:#000;text-decoration: none;}
.map_wrap {position:relative;width:100%;height:500px;}
#menu_wrap {position:absolute;top:0;left:0;bottom:0;width:250px;margin:10px 0 30px 10px;padding:5px;overflow-y:auto;background:rgba(255, 255, 255, 0.7);z-index: 1;font-size:12px;border-radius: 10px;}
.bg_white {background:#fff;}
#menu_wrap hr {display: block; height: 1px;border: 0; border-top: 2px solid #5F5F5F;margin:3px 0;}
#menu_wrap .option{text-align: center;}
#menu_wrap .option p {margin:10px 0;}  
#menu_wrap .option button {margin-left:5px;}
#placesList li {list-style: none;}
#placesList .item {position:relative;border-bottom:1px solid #888;overflow: hidden;cursor: pointer;min-height: 65px;}
#placesList .item span {display: block;margin-top:4px;}
#placesList .item h5, #placesList .item .info {text-overflow: ellipsis;overflow: hidden;white-space: nowrap;}
#placesList .item .info{padding:10px 0 10px 55px;}
#placesList .info .gray {color:#8a8a8a;}
#placesList .info .jibun {padding-left:26px;background:url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_jibun.png) no-repeat;}
#placesList .info .tel {color:#009900;}
#placesList .item .markerbg {float:left;position:absolute;width:36px; height:37px;margin:10px 0 0 10px;background:url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png) no-repeat;}
#placesList .item .marker_1 {background-position: 0 -10px;}
#placesList .item .marker_2 {background-position: 0 -56px;}
#placesList .item .marker_3 {background-position: 0 -102px}
#placesList .item .marker_4 {background-position: 0 -148px;}
#placesList .item .marker_5 {background-position: 0 -194px;}
#placesList .item .marker_6 {background-position: 0 -240px;}
#placesList .item .marker_7 {background-position: 0 -286px;}
#placesList .item .marker_8 {background-position: 0 -332px;}
#placesList .item .marker_9 {background-position: 0 -378px;}
#placesList .item .marker_10 {background-position: 0 -423px;}
#placesList .item .marker_11 {background-position: 0 -470px;}
#placesList .item .marker_12 {background-position: 0 -516px;}
#placesList .item .marker_13 {background-position: 0 -562px;}
#placesList .item .marker_14 {background-position: 0 -608px;}
#placesList .item .marker_15 {background-position: 0 -654px;}
#pagination {margin:10px auto;text-align: center;}
#pagination a {display:inline-block;margin-right:10px;}
#pagination .on {font-weight: bold; cursor: default;color:#777;}
input:focus,
textarea:focus
{
	outline:0px !important;
    box-shadow: none !important;
}
input.none
{
	border: none !important;
	display: inline-block;
	border-bottom: 1px solid #d9d9d9 !important;
}
textarea.none
{
	resize: none;
	border: none !important;
}
span:hover{color: blue;}
i.bi-plus-square:hover{color: red;}
</style>
<link rel="stylesheet" href="/css/jquery.treeview.css" />
<link rel="stylesheet" href="/css/screen.css" />
<script type="text/javascript">
$(document).ready(function(){
	$("#browser").treeview({}); 
});
</script>
</head>
<body>
<main layout:fragment="content">
	<div class="card">
		<div class="card-body">
			<h5 class="card-title">PROJECT</h5>
			<!-- Default Tabs -->
			<div style="padding: 20px;">
				<div>
					<ul class="nav nav-tabs d-flex" id="myTabjustified" role="tablist">
						<li class="nav-item flex-fill" role="presentation">
							<button class="nav-link w-100 active" id="home-tab"
								data-bs-toggle="tab" data-bs-target="#home-justified"
								type="button" role="tab" aria-controls="home"
								aria-selected="true">Home</button>
						</li>
						<li class="nav-item flex-fill" role="presentation">
							<button class="nav-link w-100" id="pst-tab"
								data-bs-toggle="tab" data-bs-target="#pst"
								type="button" role="tab" aria-controls="pst"
								aria-selected="false">글</button>
						</li>
						<li class="nav-item flex-fill" role="presentation">
							<button class="nav-link w-100" id="contact-tab"
								data-bs-toggle="tab" data-bs-target="#business-justified"
								type="button" role="tab" aria-controls="contact"
								aria-selected="false">업무</button>
						</li>
						<li class="nav-item flex-fill" role="presentation">
							<button class="nav-link w-100" id="contact-tab"
								data-bs-toggle="tab" data-bs-target="#todo-justified"
								type="button" role="tab" aria-controls="contact"
								aria-selected="false">일정</button>
						</li>
						<li class="nav-item flex-fill" role="presentation">
							<button class="nav-link w-100" id="contact-tab"
								data-bs-toggle="tab" data-bs-target="#contact-justified"
								type="button" role="tab" aria-controls="contact"
								aria-selected="false">할일</button>
						</li>
					</ul>
				</div>
				<div class="tab-content pt-2" id="myTabjustifiedContent">
					<div class="tab-content pt-2" id="myTabjustifiedContent">
						<!-- Home -->
						<div class="tab-pane fade show active" id="home-justified"
							role="tabpanel" aria-labelledby="home-tab">
							<h1>
								프로젝트 글쓰기 홈
							</h1>	
						</div>	
						<!-- Home -->
				
						<!-- 글 -->
						<div class="tab-pane fade" id="pst" role="tabpanel" aria-labelledby="pst-tab">
							<form id="pstfrm" action="prjPostInsert" method="post" enctype="multipart/form-data"  >
				                  	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
								<input type="hidden" id="empNo" name="empNo" th:value="${session.empNo}">
								<!-- <input type="hidden" id="wrtr" name="wrtr" th:value="${session.nm}"> -->
								<div>
									<label class="col-sm-2 col-form-label" style="text-align: center">작성자</label>
									<input type="text" id="prjPostWriter" name="wrtr" style="border: 0;" th:value="${session.nm}" readonly>
									<!-- <input type="text" id="prjPostWriter" name="wrtr" style="border: 0;"
									th:value="세션" readonly> -->
								</div>
				              		<div class="row mb-3"> 
				              			<label class="col-sm-2 col-form-label" style="text-align: center">제목</label>
				                			<div class="col-sm-10 padding:10px" >
				                  			<input type="text" class="form-control" name="ttl" placeholder="제목을 입력하세요." id="prjPostTitle" >
				                   	</div>
								</div>                 	
				                   <div class="row mb-3">
				                   	<label class="col-sm-2 col-form-label" style="text-align: center">내용</label>
					                <div class="col-sm-10" id="cntn">
					                	<textarea class="form-control" name="cntn" placeholder="내용을 입력하세요." style="resize: none" id="cntn"></textarea>
					                </div>
					            </div>
								<div class="row mb-3">
									<label for="inputNumber" class="col-sm-2 col-form-label" style="text-align: center">File Upload</label>
									<div class="col-sm-10">
										<input class="form-control" type="file" id="file" name="file">
									</div>
							    </div>
					            <div class="col-12" id="smb">
					               <button class="btn btn-primary w-100" type="submit">글 등록</button>
					            </div>
				        	</form>	
				        </div>
				        <!-- 글 end -->
				            
						<!-- 업무 -->
						<div class="tab-pane fade" id="business-justified" role="tabpanel" aria-labelledby="profile-tab">
							<form>
								<div class="row mb-3">
									<label for="inputText" class="col-sm-2 col-form-label">Project Name</label>
									<div class="col-sm-10">
										<input type="text" class="form-control" id="nm" name="nm">
									</div>
								</div>
								<div class="row mb-3">
									<label for="inputText" class="col-sm-2 col-form-label">진행상태</label>
									<div class="col-sm-10">
										<button type="button" class="btn btn-outline-primary">요청</button>
										<button type="button" class="btn btn-outline-primary">진행</button>
										<button type="button" class="btn btn-outline-primary">완료</button>
									</div>
								</div>
								<div class="row mb-3">
									<label for="inputDate" class="col-sm-2 col-form-label">시작일</label>
									<div class="col-sm-10">
										<input type="date" class="form-control" id="sdt" name="sdt">
									</div>
								</div>
								<div class="row mb-3">
									<label for="inputDate" class="col-sm-2 col-form-label">종료일</label>
									<div class="col-sm-10">
										<input type="date" class="form-control" id="edt" name="edt">
									</div>
								</div>
								<div class="row mb-3">
									<label for="inputPassword" class="col-sm-2 col-form-label">내용</label>
									<div class="col-sm-10">
										<textarea class="form-control" style="height: 100px"></textarea>
									</div>
								</div>
								<div class="row mb-3">
									<label for="inputNumber" class="col-sm-2 col-form-label">FileUpload</label>
									<div class="col-sm-10">
										<input class="form-control" type="file" id="formFile">
									</div>
								</div>
								<div class="col-12">
									<button class="btn btn-primary w-100" type="submit">프로젝트생성</button>
								</div>
							</form>
						</div>
						<!-- 업무 end -->
				
						<!-- 일정 -->
						<form id="scheduleFrm" action="scheduleInsert" method="post" enctype="multipart/form-data">
							<div class="tab-pane fade" id="todo-justified" role="tabpanel" aria-labelledby="contact-tab" style="padding: 15px;">
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
								<input type="hidden" name="empNo" th:value="${session.empNo}">
								<input type="hidden" name="wrtr" th:value=${session.nm}>
								<input type="hidden" name="prjNo" th:value="${prjNo}">
								<div class="row mb-3">
									<div class="col-sm-10" style="width: 80%">
										<input type="text" class="form-control none" style="border-bottom:1px solid blue;" name="ttl" placeholder="제목을 입력하세요.">
									</div>
								</div>
								<br><div class="col-sm-10">
									<input type="date" class="form-control none" name="sdt" style="width: 300px">  ~  
									<input type="date" class="form-control none" name="edt" style="width: 300px">
								</div>
								<!--프로젝트 팀원 추가-->
								<div id="rr">
									<br><h4 style="display: inline-block; padding-top: 10px; padding-right: 15px;"><i class="bi bi-person"></i></h4>
									<!-- 추가된 인원 보여주기 -->
									<div id="hello"></div>
									<button class="btn btn-outline-secondary" type="button" data-bs-toggle="collapse" 
											data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">참석자 추가</button>
									<!-- 버튼클릭시 뜨는 부분 -->
									<div class="collapse" id="collapseExample" style="padding-top: 30px;">
										<div class="" style="min-height: 200px;">
									   		<!-- 부서별 -->
											<ul id="browser" class="filetree treeview-famfamfam">
												<li id="depts"><span class="folder">Tune-Up</span>
												<ul>
													<li  class="closed"><span class="folder">인사팀</span>
														<ul th:each="e:${empList}">
															<li th:if="${e.dept}=='인사'">
																<span class="file name" th:attr="data-no=${e.empNo}">[[${e.nm}]]</span>
															</li>
														</ul>
													</li>
													<li class="closed"><span class="folder">기획팀</span>
														<ul th:each="e:${empList}">
															<li th:if="${e.dept}=='기획'">
																<span class="file name" th:attr="data-no=${e.empNo}">[[${e.nm}]]</span>
															</li>
														</ul>
													</li>
													<li class="closed"><span class="folder">영업팀</span>
														<ul th:each="e:${empList}">
															<li th:if="${e.dept}=='영업'">
																<span class="file name" th:attr="data-no=${e.empNo}">[[${e.nm}]]</span>
															</li>
														</ul>
													</li>
													<li class="closed"><span class="folder">회계팀</span>
														<ul th:each="e:${empList}">
															<li th:if="${e.dept}=='회계'">
																<span class="file name" th:attr="data-no=${e.empNo}">[[${e.nm}]]</span>
															</li>
														</ul>
													</li>
													<li class="closed"><span class="folder">개발팀</span>
														<ul th:each="e:${empList}">
															<li th:if="${e.dept}=='개발'">
																<span class="file name" th:attr="data-no=${e.empNo}">[[${e.nm}]]</span>
															</li>
														</ul>
													</li>
												</ul>
												</li>
											</ul>
											<!-- 부서별 -->
									  	</div>
									  	<!-- 인원선택하면 추가되는 부분 -->
									  	<div id="selectPerson">
									  	</div>
									  	<button id="personInsert" type="button">등록</button>
									  	<!-- 인원선택하면 추가되는 부분 -->
									</div>
									<!-- 버튼클릭시 뜨는 부분  -->
								</div>
								<!-- 프로젝트 팀원 추가 -->
								
								<!-- Start 카카오 지도 -->
								<div style="clear: both;">
									<br><h4 style="display: inline-block; padding-top: 20px;"><i class="bi bi-geo-alt"></i></h4>
									<input type="text" class="form-control none" style="width: 400px;" id="keyword" name="" value="" placeholder="장소를 입력하세요.">
								</div>
								<br>
								<div class="map_wrap" style="width: 700px; height: 250px; display: none">
								    <div id="map" style="width:100%;height:100%;position:relative;overflow:hidden;"></div>
								
								    <div id="menu_wrap" class="bg_white">
								        <ul id="placesList"></ul>
								        <div id="pagination"></div>
								    </div>
								</div>
								<input type="text" id="result" name="place" value="">
								<input type="text" id="lat" name="latitude" value="">
								<input type="text" id="lon" name="longitude" value="">
								<!-- End 카카오 지도 -->
								
								<br><div class="col-sm-10">
									<h4 style="padding-top: 10px; float: left;"><i class="bi bi-layout-text-sidebar-reverse"></i></h4>
									<textarea class="form-control none" style="min-height: 200px; width: 80%; padding-top: 15px;" name="cntn" placeholder="내용을 입력하세요."></textarea>
								</div>
								<br><div class="input-group">
									<input type="file" name="file" class="form-control" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
									<button class="btn btn-primary" type="submit">일정 등록</button>
								</div>
							</div>
						</form>
						<!-- 일정 -->
				
						<!-- 할일 -->
						<div class="tab-pane fade" id="contact-justified" role="tabpanel">
							aria-labelledby="contact-tab">Saepe animi et soluta ad odit
							soluta sunt. Nihil quos omnis animi debitis cumque. Accusantium
							quibusdam perspiciatis qui qui omnis magnam. Officiis accusamus
							impedit molestias nostrum veniam. Qui amet ipsum iure.
							Dignissimos fuga tempore dolor.
						</div>
						<!-- 할일 -->
					</div>
					<!-- End Default Tabs -->
					</div>
				</div>
			</div>
		</div>
	<script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=8979f5b92eaf5997a6ea3ade6a7e65f1&libraries=services"></script>
	<script src="/js/jquery.cookie.js"></script>
	<script src="/js/jquery.treeview.js"></script>
	<script>
	/* 카카오 지도 자바스크립트 */
	$("#keyword").on("keyup", e=>{  
		if(e.keyCode==13) {
			$(".map_wrap").css("display","block");
	
		// 마커를 담을 배열입니다
		var markers = [];
		
		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
		    mapOption = {
		        center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
		        level: 1 // 지도의 확대 레벨
		    };  
		
		// 지도를 생성합니다    
		var map = new kakao.maps.Map(mapContainer, mapOption); 
		
		// 장소 검색 객체를 생성합니다
		var ps = new kakao.maps.services.Places();  
		
		// 검색 결과 목록이나 마커를 클릭했을 때 장소명을 표출할 인포윈도우를 생성합니다
		var infowindow = new kakao.maps.InfoWindow({zIndex:1});
		
		// 키워드로 장소를 검색합니다
		searchPlaces();
		
		// 키워드 검색을 요청하는 함수입니다
		function searchPlaces() {
		
		    var keyword = document.getElementById('keyword').value;
		
		    if (!keyword.replace(/^\s+|\s+$/g, '')) {
		        alert('키워드를 입력해주세요!');
		        return false;
		    }
		
		    // 장소검색 객체를 통해 키워드로 장소검색을 요청합니다
		    ps.keywordSearch( keyword, placesSearchCB); 
		}
		
		// 장소검색이 완료됐을 때 호출되는 콜백함수 입니다
		function placesSearchCB(data, status, pagination) {
		    if (status === kakao.maps.services.Status.OK) {
		
		        // 정상적으로 검색이 완료됐으면
		        // 검색 목록과 마커를 표출합니다
		        displayPlaces(data);
		
		        // 페이지 번호를 표출합니다
		        displayPagination(pagination);
		
		    } else if (status === kakao.maps.services.Status.ZERO_RESULT) {
		
		        alert('검색 결과가 존재하지 않습니다.');
		        return;
		
		    } else if (status === kakao.maps.services.Status.ERROR) {
		
		        alert('검색 결과 중 오류가 발생했습니다.');
		        return;
		
		    }
		}
		
		// 검색 결과 목록과 마커를 표출하는 함수입니다
		function displayPlaces(places) {
		
		    var listEl = document.getElementById('placesList'), 
		    menuEl = document.getElementById('menu_wrap'),
		    fragment = document.createDocumentFragment(), 
		    bounds = new kakao.maps.LatLngBounds(), 
		    listStr = '';
		    
		    // 검색 결과 목록에 추가된 항목들을 제거합니다
		    removeAllChildNods(listEl);
		
		    // 지도에 표시되고 있는 마커를 제거합니다
		    removeMarker();
		    
		    for ( var i=0; i<places.length; i++ ) {
		
		        // 마커를 생성하고 지도에 표시합니다
		        var placePosition = new kakao.maps.LatLng(places[i].y, places[i].x),
		            marker = addMarker(placePosition, i), 
		            itemEl = getListItem(i, places[i]); // 검색 결과 항목 Element를 생성합니다
		            
		        // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해
		        // LatLngBounds 객체에 좌표를 추가합니다
		        bounds.extend(placePosition);
		            
		        (function(marker, title) {
		            kakao.maps.event.addListener(marker, 'click', function() {
		                displayInfowindow(marker, title);
		            });
		
		            itemEl.onmouseover =  function () {
		                displayInfowindow(marker, title);
		            };
		
		            itemEl.onmouseout =  function () {
		                infowindow.close();
		            };
		        })(marker, places[i].place_name);
		
		        fragment.appendChild(itemEl);
		    }
		    
		    // 검색결과 항목들을 검색결과 목록 Element에 추가합니다
		    listEl.appendChild(fragment);
		    menuEl.scrollTop = 0;
		
		    // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다
		    map.setBounds(bounds);
		}
		
		// 검색결과 항목을 Element로 반환하는 함수입니다
		function getListItem(index, places) {
		
		    var el = document.createElement('li'),
		    itemStr = '<span class="markerbg marker_' + (index+1) + '"></span>' +
		                '<div class="info">' +
		                '   <h5>' + places.place_name + '</h5>';
		
		    if (places.road_address_name) {
		        itemStr += '    <span>' + places.road_address_name + '</span>' +
		                    '   <span class="jibun gray cc">' +  places.address_name  + '</span>';
		    } else {
		        itemStr += '    <span>' +  places.address_name  + '</span>'; 
		    }
		                 
		      itemStr += '  <span class="tel">' + places.phone  + '</span>' +
		                '</div>';           
		
		    el.innerHTML = itemStr;
		    el.className = 'item';
		
		    return el;
		}
		
		// 마커를 생성하고 지도 위에 마커를 표시하는 함수입니다
		function addMarker(position, idx, title) {
		    var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png', // 마커 이미지 url, 스프라이트 이미지를 씁니다
		        imageSize = new kakao.maps.Size(36, 37),  // 마커 이미지의 크기
		        imgOptions =  {
		            spriteSize : new kakao.maps.Size(36, 691), // 스프라이트 이미지의 크기
		            spriteOrigin : new kakao.maps.Point(0, (idx*46)+10), // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표
		            offset: new kakao.maps.Point(13, 37) // 마커 좌표에 일치시킬 이미지 내에서의 좌표
		        },
		        markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),
		            marker = new kakao.maps.Marker({
		            position: position, // 마커의 위치
		            image: markerImage 
		        });
		
		    marker.setMap(map); // 지도 위에 마커를 표출합니다
		    markers.push(marker);  // 배열에 생성된 마커를 추가합니다
		    
		    return marker;
		}
		
		// 지도 위에 표시되고 있는 마커를 모두 제거합니다
		function removeMarker() {
		    for ( var i = 0; i < markers.length; i++ ) {
		        markers[i].setMap(null);
		    }   
		    markers = [];
		}
		
		// 검색결과 목록 하단에 페이지번호를 표시는 함수입니다
		function displayPagination(pagination) {
		    var paginationEl = document.getElementById('pagination'),
		        fragment = document.createDocumentFragment(),
		        i; 
		
		    // 기존에 추가된 페이지번호를 삭제합니다
		    while (paginationEl.hasChildNodes()) {
		        paginationEl.removeChild (paginationEl.lastChild);
		    }
		
		    for (i=1; i<=pagination.last; i++) {
		        var el = document.createElement('a');
		        el.href = "#";
		        el.innerHTML = i;
		
		        if (i===pagination.current) {
		            el.className = 'on';
		        } else {
		            el.onclick = (function(i) {
		                return function() {
		                    pagination.gotoPage(i);
		                }
		            })(i);
		        }
		
		        fragment.appendChild(el);
		    }
		    paginationEl.appendChild(fragment);
		}
		
		// 검색결과 목록 또는 마커를 클릭했을 때 호출되는 함수입니다
		// 인포윈도우에 장소명을 표시합니다
		function displayInfowindow(marker, title) {
			let latitude = marker.getPosition().getLat();
			let longitude = marker.getPosition().getLng();
		    var content = `<div style='padding:5px;'>${title}<br><a href='https://map.kakao.com/link/to/${title},${latitude},${longitude}' style='color:blue' target='_blank'>길찾기</a>  <button type='button' class='placeSelect' style='color:blue'>선택</button></div>`;
		    	
		    infowindow.setContent(content);
		    infowindow.open(map, marker);
		    
		    $(".placeSelect").on("click", e=>{
				$("#result").val(title); //지도에서 선택한 곳 이름
				$("#lat").val(latitude);
				$("#lon").val(longitude);
			})
		}
		
		 // 검색결과 목록의 자식 Element를 제거하는 함수입니다
		function removeAllChildNods(el) {   
		    while (el.hasChildNodes()) {
		        el.removeChild (el.lastChild);
		    }
		}
	  }    
	});
	</script>
	
	<!-- 일정 -->
	<script>
		//부서별 사원이름 클릭시 추가되는 기능
		$("#depts").on("click", ".name", e=>{
			let empName = $(e.target).text(); //클릭한 사원의 이름
			let empNo = $(e.target).data("no"); //클릭한 사원의 사원번호
			$("#selectPerson").append("<div><span data-no='"+ empNo +"'>"+empName+"</span><i class='bi bi-x' style='color: red;'></i></div>");
		})
		
		//추가된 사원 삭제
		$("#rr").on("click", ".bi-x", e=>{
			let deleteNo = $(e.target).prev().data("no"); //삭제클릭한 사원의 사원번호
			$("#scheduleFrm").find("#"+deleteNo+"").remove();
			$(e.target).parent().remove();
		})
		
		//추가한 사원모두 추가되는 기능 (등록버튼)
		$("#personInsert").on("click", e=>{
			let people = $(e.target).prev().find('span');
			$.each(people, (idx, p)=>{
				$("#hello").append("<div><span data-no='"+$(p).data("no")+"'>"+$(p).text()+"</span><i class='bi bi-x' style='color: red;'></i></div>");
			
				//등록하면 hidden input창에 추가되도록(데이터를 보내기 위해서)
				$("#scheduleFrm").append("<input type='hidden' id='"+$(p).data("no")+"' name='teamEmpNo' value='"+$(p).data("no")+"'>")
			})
			$(e.target).prev().html("");
			
		})
		
		//input창 enter키 누르면 submit되는거 방지
		$('input[type="text"]').keydown(function() {
		    if (event.keyCode === 13) {
		        event.preventDefault();
		    }
		});
	</script>
</main>
</body>
</html>